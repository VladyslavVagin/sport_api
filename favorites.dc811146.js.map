{"mappings":"gfAAAA,EAAA,S,sBCCA,IAAMC,EAAcC,SAASC,cAAc,qBACrCC,EAAgBF,SAASC,cAAc,8BAGvCE,GAFeH,SAASC,cAAc,oBACxBD,SAASC,cAAc,mBAC1BD,SAASC,cAAc,cAIpCG,GAHcJ,SAASC,cAAc,UAGtB,MAEbI,EAAcL,SAASC,cAAc,sBAI3C,SAASK,EAAeC,GACR,WAAXA,EAAEC,MAAqBD,EAAEE,SAAWN,GACrCO,G,CAIJ,SAASA,IACLP,EAASQ,UAAUC,IAAI,aACvBC,OAAOC,oBAAoB,UAAWR,GACtCH,EAASY,iBAAiB,QAAST,E,CAXvCP,EAAYgB,iBAAiB,QAASL,GA4HtCR,EAAca,iBAAiB,SAE/B,SAAuBR,GACnBA,EAAES,iBACCZ,GACCA,EAAaa,SAEHC,KAAKC,MAAMC,aAAaC,QAAQ,iBAOgB,IAAxDrB,SAASsB,iBAAiB,mBAAmBC,SAC/ClB,EAAYmB,MAAMC,QAAU,SAEhCf,G","sources":["src/js/favorites.js","src/js/details-cards-favorites.js"],"sourcesContent":["import './burger-menu'\nimport './rating'\nimport './quote'\nimport './details-cards-favorites'","// @ts-nocheck\nconst closeButton = document.querySelector('.ex-details-close');\nconst removeFromFav = document.querySelector('.remove-from-favorites-btn');\nconst buttonRating = document.querySelector('.give-rating-btn');\nconst modalWindow = document.querySelector('.card-details-f');\nconst backdrop = document.querySelector('.backdrop');\nconst cardModal = document.querySelector('.modal');\n\nlet cardUn;\nlet cardToRemove = null;\n\nconst textDefault = document.querySelector('.text-no-favorites');\n\ncloseButton.addEventListener('click', onCloseModal);\n\nfunction whenCloseModal(e) {\n  if(e.code === 'Escape' || e.target === backdrop) {\n    onCloseModal();\n  }\n};\n\nfunction onCloseModal() {\n    backdrop.classList.add('is-hidden');\n    window.removeEventListener('keydown', whenCloseModal);\n    backdrop.addEventListener('click', whenCloseModal);\n};\n// ====================================================================================================\nexport function onClickStart(cardDelete, dataIdent) {\n    closeButton.addEventListener('click', onCloseModal);\n    window.addEventListener('keydown', whenCloseModal);\n    backdrop.addEventListener('click', whenCloseModal);\n    cardToRemove = cardDelete;\n    backdrop.classList.remove('is-hidden');\n    renderCardToFavorires(dataIdent);\n    modalWindow.innerHTML = cardUn;\n    createRating();\n};\n\nfunction renderCardToFavorires(dataIdent) {\n    const savedUn = localStorage.getItem('exerciseCard');\n    const parseUn = JSON.parse(savedUn);\n\n    if(!parseUn.length) {\n        return console.log(error);\n    } else {\n        return parseUn.forEach(itemModal => {\n            const {\n                id,\n                gifUrl,\n                name,\n                rating,\n                target,\n                bodyPart,\n                equipment,\n                popularity,\n                burnedCalories,\n                description,\n              } = itemModal;\n\n              if(id !== dataIdent) {\n                return;\n              } else {\n                cardModal.setAttribute('data-id', `${id}`);\n                return cardUn = ` <div class=\"info-card\">\n                <img src=\"${gifUrl}\" alt=\"${name}\" class=\"main-modal-img\">\n                    <div>\n                        <h3 class=\"modal-header\">${name}</h3>\n                        <form action=\"rating__form\">\n                            <div class=\"form-item-rating\">\n                                <div class=\"rating\">\n                                        <div class=\"rating__value\">${rating}</div>\n                                    <div class=\"rating__body\">\n                                        <div class=\"rating__active\"></div>\n                                        <div class=\"rating__items\">\n                                            <input type=\"radio\" class=\"rating__item\" value=\"1\" name=\"rating\">\n                                            <input type=\"radio\" class=\"rating__item\" value=\"2\" name=\"rating\">\n                                            <input type=\"radio\" class=\"rating__item\" value=\"3\" name=\"rating\">\n                                            <input type=\"radio\" class=\"rating__item\" value=\"4\" name=\"rating\">\n                                            <input type=\"radio\" class=\"rating__item\" value=\"5\" name=\"rating\">\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </form>\n                            <div class=\"info\">\n                                <p class=\"info-item\">\n                                    Target<span class=\"character\">${target}</span>\n                                </p>\n                                <p class=\"info-item\">\n                                    Body Part<span class=\"character\">${bodyPart}</span>\n                                </p>\n                                <p class=\"info-item\">\n                                    Equipment<span class=\"character\">${equipment}</span>\n                                </p>\n                                <p class=\"info-item\">\n                                    Popular<span class=\"character\"> ${popularity}</span>\n                                </p>\n                                <p class=\"info-item\">\n                                    Burned calories<span class=\"character\"> ${burnedCalories}</span>\n                                </p>\n                            </div>\n                            <p class=\"text-info\">${description}</p>\n                    </div>\n            </div>`\n              }\n        });\n    }\n};\n// ======================================================================================================================\nlet ratingValue;\nlet ratingActive;\n\nfunction createRating() {\n    const ratings = document.querySelectorAll('.rating');\n    if (ratings.length > 0) {\n      initRatings();\n    }\n    function initRatings() {\n      for (let index = 0; index < ratings.length; index++) {\n        const rating = ratings[index];\n        initRating(rating);\n      }\n      function initRating(rating) {\n        initRatingVars(rating);\n        setRatingActiveWidth();\n      }\n      function initRatingVars(rating) {\n        ratingActive = rating.querySelector('.rating__active');\n        ratingValue = rating.querySelector('.rating__value');\n      }\n      function setRatingActiveWidth(index = ratingValue.innerHTML) {\n        const ratingActiveWidth = index / 0.05;\n        ratingActive.style.width = `${ratingActiveWidth}%`;\n      }\n    }\n  }\n//   =========================================================================================================\nremoveFromFav.addEventListener('click', onClickRemove);\n\nfunction onClickRemove(e) {\n    e.preventDefault();\n    if(cardToRemove) {\n        cardToRemove.remove();\n    }\n    const items = JSON.parse(localStorage.getItem('exerciseCard')) || [];\n    // const indexToDelete = findIndexToDelete(items, cardToRemove);\n    // if (indexToDelete !== -1) {\n    //     items.splice(indexToDelete, 1);\n    //   }\n    //   localStorage.setItem('exerciseCard', JSON.stringify(items));\n  \n      if (document.querySelectorAll('.exercises-card').length === 0) {\n        textDefault.style.display = 'block';\n      }\n    onCloseModal();\n};"],"names":["parcelRequire","$6bab09f345d95b7e$var$closeButton","document","querySelector","$6bab09f345d95b7e$var$removeFromFav","$6bab09f345d95b7e$var$backdrop","$6bab09f345d95b7e$var$cardToRemove","$6bab09f345d95b7e$var$textDefault","$6bab09f345d95b7e$var$whenCloseModal","e","code","target","$6bab09f345d95b7e$var$onCloseModal","classList","add","window","removeEventListener","addEventListener","preventDefault","remove","JSON","parse","localStorage","getItem","querySelectorAll","length","style","display"],"version":3,"file":"favorites.dc811146.js.map"}